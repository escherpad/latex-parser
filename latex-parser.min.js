!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["latex-parser"]=t():e["latex-parser"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{writable:!0,enumerable:!0,configurable:!0};if(!(e instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0!==t){if(!(t instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===r)r={writable:!0,enumerable:!0,configurable:!0};else if(!(r instanceof Object))throw new TypeError('"attributes" isn\'t an Object instance');if(void 0===n)for(var u in t)void 0!==t[u]&&Object.defineProperty(e,u,Object.create(r,{value:{value:t[u]}}));else if(n instanceof Array)n.forEach(function(n){void 0!==t[n]&&Object.defineProperty(e,n,Object.create(r,{value:{value:t[n]}}))});else{if(!(n instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var i in n){var o=n[i];void 0!==t[o]&&Object.defineProperty(e,i,Object.create(r,{value:{value:t[o]}}))}}}}function u(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!(e instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0===t)return!0;if(!(t instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===r&&(r=!0),void 0===n){for(var u in t)if(e[u]!==t[u]&&(void 0!==t[u]||!r))return!1}else{if(n instanceof Array)return n.every(function(n){return e[n]===t[n]||void 0===t[n]&&r});if(!(n instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var i in n){var o=n[i];if(e[i]!==t[o]&&(void 0!==t[o]||!r))return!1}}return!0}function i(e){return"number"==typeof e}function o(e){return"string"==typeof e}function a(e,t){if(!e)throw new Error(t);return e}function c(e,t){if(!(e instanceof Object))throw new TypeError(t||"Expected Object");return e}function s(e,t){if("string"!=typeof e)throw new TypeError(t||"Expected string");return e}function f(e,t){if(!l(e))throw new TypeError(t||"Expected Array");return e}function l(e){return e.constructor===Array}function p(e,t){return[].concat.apply([],e.map(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.updateProperties=r,t.testProperties=u,t.isNumber=i,t.isString=o,t.mustNotBeUndefined=a,t.mustBeObject=c,t.mustBeString=s,t.mustBeArray=f,t.isArray=l,t.concatMap=p;t.mustBeNumber=function(e,t){if(!i(e))throw new TypeError(t||"Expected number");return e},t.mconcat=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduceRight(e)},t.snd=function(e){return e[1]}},function(e,t,n){"use strict";function r(e){return i(e)||o(e)}function u(e){return I.hasOwnProperty(e)}function i(e){return u(e.type)&&(0,U.isNumber)(e.value)}function o(e){return d(e.expression)}function a(e){if(void 0===e)return!1;switch(e){case"Parentheses":case"Square":case"Dollar":return!0;default:return!1}}function c(e,t){return void 0!==e&&(void 0===t?"string"==typeof e.name:t===e.name)}function s(e){return void 0!==e&&"string"==typeof e.text}function f(e){return void 0!==e&&(0,U.isArray)(e.latex)}function l(e){return e.arguments instanceof Array}function p(e){switch(e){case"#":return"\\#";case"$":return"\\$";case"%":return"\\%";case"^":return"\\^{}";case"&":return"\\&";case"{":return"\\{";case"}":return"\\}";case"~":return"\\~{}";case"\\":return"\\textbackslash{}";case"_":return"\\_{}";default:return e}}function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===n.length?"string"==typeof e.type:n.some(function(t){return e.type===t})}function d(e){return v(e)||m(e)}function m(e){return P(e)||y(e)||x(e)||b(e)||T(e)||O(e)||A(e)||E(e)}function v(e){return P(e)||g(e)||x(e)||b(e)||T(e)||O(e)||A(e)||E(e)}function g(e){return void 0!==e&&void 0!==e.type&&s(e)&&h(e,K)}function y(e){return void 0!==e&&"number"==typeof e}function x(e){return c(e)&&l(e)&&h(e,Q,V)}function w(e){return x(e)&&0===e.arguments.length}function b(e,t){return h(e,Z)}function T(e){return f(e)&&h(e)&&a(e.type)}function O(e){return void 0!==e&&"boolean"==typeof e.noNewPage&&(void 0===e.measure||r(e.measure))}function A(e){return f(e)&&h(e,J)}function X(e){return h(e,"FixArg")}function j(e){return h(e,"OptArg")}function E(e){return s(e)&&h(e,G)}function P(e){return void 0!==e&&0===Object.keys(e).length}function M(e){return{type:"FixArg",latex:e}}function _(e){return 1===e.length?{type:"OptArg",latex:e}:{type:"MOptArg",latex:e}}function k(e){return{type:"SymArg",latex:[e]}}function S(e){return{type:"ParArg",latex:[e]}}function C(e){return{type:"MOptArg",latex:e}}function B(e){return{type:"MSymArg",latex:e}}function N(e){return{type:"MParArg",latex:e}}function q(e){return{name:e,arguments:[],type:V}}function D(e){return{text:e,type:K,characterCategories:(0,W.convertToTeXCharsDefault)(e)}}function R(e,t){return{latex:t,type:e}}function F(e){return{latex:[e],type:J}}function L(e){return{text:e,type:G}}function $(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{name:e,arguments:n,type:Q}}function z(e,t){return{type:e,arguments:t}}function H(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),u=2;u<n;u++)r[u-2]=arguments[u];return{name:e,latex:t,arguments:r,type:Z}}Object.defineProperty(t,"__esModule",{value:!0}),t.newTeXMathDol=t.protectString=t.fromStringLaTeX=t.typeTeXCommS=t.typeTeXComm=t.typeTeXRaw=t.typeTeXComment=t.typeTeXBraces=t.typeTeXEnv=t.typeTeXSeq=t.mathTypes=t.measureTypes=void 0,t.isMeasure=r,t.isMeasureType=u,t.isBuiltInMeasure=i,t.isCustomMeasure=o,t.isMathType=a,t.isNameHaving=c,t.isTextHaving=s,t.isLaTeXHaving=f,t.isArgumentHaving=l,t.protectChar=p,t.isTypeHaving=h,t.isLaTeXBlock=d,t.isLaTeXNoRaw=m,t.isLaTeXRaw=v,t.isTeXRaw=g,t.isTeXChar=y,t.isTeXComm=x,t.isTeXCommS=w,t.isTeXEnv=b,t.isTeXMath=T,t.isTeXLineBreak=O,t.isTeXBraces=A,t.isFixArg=X,t.isOptArg=j,t.isTeXComment=E,t.isTeXEmpty=P,t.newFixArg=M,t.newOptArg=_,t.newSymArg=k,t.newParArg=S,t.newMOptArg=C,t.newMSymArg=B,t.newMParArg=N,t.newCommandS=q,t.newTeXRaw=D,t.newTeXMath=R,t.newTeXBraces=F,t.newTeXComment=L,t.newTeXComm=$,t.newSubOrSuperScript=z,t.newTeXEnv=H;var U=n(0),W=n(3),I=t.measureTypes={pt:!0,mm:!0,cm:!0,in:!0,ex:!0,em:!0},Z=(t.mathTypes={Parentheses:"Parentheses",Square:"Square",Dollar:"Dollar"},t.typeTeXSeq="TeXSeq",t.typeTeXEnv="TeXEnv"),J=t.typeTeXBraces="TeXBraces",G=t.typeTeXComment="TeXComment",K=t.typeTeXRaw="TeXRaw",Q=t.typeTeXComm="TeXComm",V=t.typeTeXCommS="TeXCommS",Y=(t.fromStringLaTeX=function(e){return D(Y(e))},t.protectString=function(e){for(var t=[],n=0;n<e.length;n++)t.push(p(e.charAt(n)));return t.join()});t.newTeXMathDol=R.bind(void 0,"Dollar")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var u=n(1);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var i=n(4);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},function(e,t,n){"use strict";function r(e){return u(i,e)}function u(e,t){for(var n=[],r=0;r<t.length;r++){var u=t.charCodeAt(r);n.push({unicode:u,category:e(u)})}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.convertToTeXCharsDefault=r,t.convertToTeXChars=u;var i=t.defaultCategories=function(e){switch(e){case 92:return 0;case 123:return 1;case 125:return 2;case 36:return 3;case 38:return 4;case 13:return 5;case 35:return 6;case 94:return 7;case 95:return 8;case 0:return 9;case 32:return 10;case 126:return 13;case 37:return 14;case 127:return 15;default:return 11}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){var n=e.length,r=t.length;if(0===n)return t;if(0===r)return e;for(var u={},i=0;i<n;i++)u[e[i]]=!0;for(var o=0;o<r;o++)u[t[o]]=!0;var a=[];for(var c in u)u.hasOwnProperty(c)&&a.push(c);return a.sort(),a}function i(e,t){if(!t)return e;if(e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?u(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}function o(e,t,n,r){return(0,g.Parser)(function(u,o){for(var a=r,c=0,s=void 0;o<u.length;){var f=t._(u,o);if(f.status){o=(0,x.mustBeNumber)(f.index);break}var l=e._(u,o);if(m(l))return l;if(s=(0,x.mustNotBeUndefined)(i(l,s)),m(s))return s;c++;var p=(0,x.mustNotBeUndefined)(s.value);a=n(a,p),o=(0,x.mustBeNumber)(s.index)}return v(i((0,g.makeSuccess)(o,a),s))})}function a(e,t){return o(e,t,function(e,t){return e.concat([t])},[])}function c(e){return(0,g.Parser)(function(t,n){var r=t.charAt(n);if(n>=t.length||e(r))return(0,g.makeFailure)(n,"text character");var u=[r];n++;for(var i=t.charAt(n);!e(i)&&n<t.length;)u.push(i),n++,i=t.charAt(n);return(0,g.makeSuccess)(n,u.join(""))})}function s(e){return c(l(e)).map(function(e){return(0,y.newTeXRaw)(e)})}function f(e,t){return(void 0===t?S:t).hasOwnProperty(e)}function l(e){return function(t){return e.hasOwnProperty(t)}}function p(e){return e>="A"&&e<="Z"}function h(e){return e>="a"&&e<="z"}function d(e){return void 0!==e&&!0===e.status}function m(e){return void 0!==e&&!1===e.status}function v(e){if(!d(e))throw new Error("Expected parse to be success: "+JSON.stringify(e));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.dolMath=t.shiftedScript=t.subOrSuperscriptSymbolParser=t.command=t.cmdArgs=t.cmdArg=t.optArg=t.fixArg=t.endCmd=t.specialChar=t.environment=t.env=t.latexParser=t.latexBlockParserMathMode=t.latexBlockParser=t.commandSymbol=t.mathSymbol=t.specialCharsDefault=t.comment=t.notTextDefaultAndNotClosingBracket=t.notTextMathModeAndNotClosingBracket=t.notTextMathMode=t.notTextDefault=t.takeTill=t.defaultParserConf=void 0,t.textParser=s,t.isSpecialCharacter=f,t.isNotText=l,t.isOk=d,t.isNotOk=m,t.mustBeOk=v;var g=n(5),y=n(1),x=n(0),w=(t.defaultParserConf={verbatimEnvironments:["verbatim"]},t.takeTill=function(e){return(0,g.takeWhile)(function(t){return!e(t)})}),b=(0,g.regexp)(/[^\n]*/),T=(0,g.regexp)(/\n?/),O=((0,g.regexp)(/\s*/m),(0,g.string)("%")),A=(0,g.string)("["),X=(0,g.string)("]"),j=t.notTextDefault={$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},E=t.notTextMathMode={"^":!0,_:!0,$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},P=t.notTextMathModeAndNotClosingBracket={"^":!0,_:!0,$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},M=t.notTextDefaultAndNotClosingBracket={$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},_=(s(j),s(M),(0,g.regexp)(/ */).map(y.newTeXRaw)),k=t.comment=O.then(b).skip(T).map(y.newTeXComment),S=t.specialCharsDefault={"'":!0,"(":!0,")":!0,",":!0,".":!0,"-":!0,'"':!0,"!":!0,"^":!0,$:!0,"&":!0,"#":!0,"{":!0,"}":!0,"%":!0,"~":!0,"|":!0,"/":!0,":":!0,";":!0,"=":!0,"[":!0,"]":!0,"\\":!0,"`":!0," ":!0},C=(t.mathSymbol=(0,g.string)("$"),t.commandSymbol=(0,g.string)("\\")),B=t.latexBlockParser=(0,g.lazy)(function(){return(0,g.alt)((0,g.alt)(s(j),K,k,s(M),R,Z))}),N=t.latexBlockParserMathMode=function(e,t){return(0,g.lazy)(function(){return(0,g.alt)((0,g.alt)(G(e,t),s(E),K,k,s(P),R,Z))})},q=(t.latexParser=B.many(),(0,g.string)("{").then(B.many()).skip((0,g.string)("}"))),D=t.env=(0,g.Parser)(function(e,t){var n=(0,g.string)("\\begin").then((0,g.string)("{")).then(_).then((0,g.regexp)(/[a-zA-Z]+/)).skip(_).skip((0,g.string)("}"))._(e,t);if(m(n))return n;t=(0,x.mustBeNumber)(n.index);var r=n.value;return a(B,(0,g.string)("\\end").then((0,g.string)("{")).then(_).then((0,g.string)(r)).then(_).then((0,g.string)("}"))).map(function(e){return(0,y.newTeXEnv)(r,e)})._(e,t)}),R=t.environment=(0,g.alt)(q,D),F=t.specialChar=(0,g.test)(f),L=t.endCmd=function(e){return!h(e)&&!p(e)},$=(0,g.string)("{"),z=(0,g.string)("}"),H=t.fixArg=$.then(a(B,z)).map(y.newFixArg),U=t.optArg=A.then(a(B,X)).map(y.newOptArg),W=t.cmdArg=(0,g.alt)(H,U),I=t.cmdArgs=(0,g.alt)((0,g.string)("{}").map(function(){return[]}),W.map(function(e){return e}).atLeast(0)).map(function(e){return e}),Z=t.command=(0,g.seqMap)(C,(0,g.alt)(F,w(L)),I,function(e,t,n){return void 0!==n?y.newTeXComm.apply(void 0,[t].concat(r(n))):(0,y.newTeXComm)(t)}).map(function(e){return e}),J=t.subOrSuperscriptSymbolParser=function(e,t){return(0,g.alt)((0,g.string)(e),(0,g.string)(t)).map(function(t){return t===e?"_":"^"})},G=t.shiftedScript=function(e,t){return(0,g.seqMap)(J(e,t),I,function(e,t){return(0,y.newSubOrSuperScript)(e,t)}).map(function(e){return e})},K=t.dolMath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Dollar",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$";return(0,g.string)(t).then(N("_","^").many().map(function(t){return(0,y.newTeXMath)(e,t)})).skip((0,g.string)(n))}()},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this._=e}function u(e){return e instanceof r}function i(e){return"[object Array]"==={}.toString.call(e)}function o(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function a(e,t){return{status:!1,index:-1,value:null,furthest:e,expected:[t]}}function c(e,t){if(!t)return e;if(e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?f(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}function s(e,t){var n=e.slice(0,t).split("\n");return{offset:t,line:n.length,column:n[n.length-1].length+1}}function f(e,t){var n=e.length,r=t.length;if(0===n)return t;if(0===r)return e;for(var u={},i=0;i<n;i++)u[e[i]]=!0;for(var o=0;o<r;o++)u[t[o]]=!0;var a=[];for(var c in u)u.hasOwnProperty(c)&&a.push(c);return a.sort(),a}function l(e){if(!u(e))throw new Error("not a parser: "+e)}function p(e){if(!i(e))throw new Error("not an array: "+e)}function h(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function d(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=w(e),n=0;n<t.length;n++){var r=t.charAt(n);if("i"!==r&&"m"!==r&&"u"!==r)throw new Error('unsupported regexp flag "'+r+'": '+e)}}function m(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function v(e){if("string"!=typeof e)throw new Error("not a string: "+e)}function g(e){return 1===e.length?e[0]:"one of "+e.join(", ")}function y(e,t){var n=t.index,r=n.offset;if(r===e.length)return", got the end of the input";var u=r>0?"'...":"'",i=e.length-r>12?"...'":"'";return" at line "+n.line+" column "+n.column+", got "+u+e.slice(r,r+12)+i}function x(e,t){return"expected "+g(t.expected)+y(e,t)}function w(e){var t=""+e;return t.slice(t.lastIndexOf("/")+1)}function b(e){return RegExp("^(?:"+e.source+")",w(e))}function T(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)l(e[n]);return r(function(n,r){for(var u,i=new Array(t),a=0;a<t;a+=1){if(u=c(e[a]._(n,r),u),!u.status)return u;i[a]=u.value,r=u.index}return c(o(r,i),u)})}function O(){for(var e={},t=0,n=[].slice.call(arguments),a=n.length,s=0;s<a;s+=1){var f=n[s];if(!u(f)){if(i(f)&&2===f.length&&"string"==typeof f[0]&&u(f[1])){var l=f[0];if(e[l])throw new Error("seqObj: duplicate key "+l);e[l]=!0,t++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===t)throw new Error("seqObj expects at least one named parser, found zero");return r(function(e,t){for(var r,u={},s=0;s<a;s+=1){var f,l;if(i(n[s])?(f=n[s][0],l=n[s][1]):(f=null,l=n[s]),r=c(l._(e,t),r),!r.status)return r;f&&(u[f]=r.value),t=r.index}return c(o(t,u),r)})}function A(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var t=e.pop();return m(t),T.apply(null,e).map(function(e){return t.apply(null,e)})}function X(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&function(n){var r=function(){return e[n](t)};t[n]=$(r)}(n);return t}function j(){var e=[].slice.call(arguments),t=e.length;if(0===t)return S("zero alternates");for(var n=0;n<t;n+=1)l(e[n]);return r(function(t,n){for(var r,u=0;u<e.length;u+=1)if(r=c(e[u]._(t,n),r),r.status)return r;return r})}function E(e,t){return P(e,t).or(k([]))}function P(e,t){l(e),l(t);var n=t.then(e).many();return e.chain(function(e){return n.map(function(t){return[e].concat(t)})})}function M(e){v(e);var t="'"+e+"'";return r(function(n,r){var u=r+e.length,i=n.slice(r,u);return i===e?o(u,i):a(r,t)})}function _(e,t){d(e),arguments.length>=2?h(t):t=0;var n=b(e),u=""+e;return r(function(e,r){var i=n.exec(e.slice(r));if(i){if(0<=t&&t<=i.length){var c=i[0],s=i[t];return o(r+c.length,s)}return a(r,"valid match group (0 to "+i.length+") in "+u)}return a(r,u)})}function k(e){return r(function(t,n){return o(n,e)})}function S(e){return r(function(t,n){return a(n,e)})}function C(e){if(u(e))return r(function(t,n){var r=e._(t,n);return r.index=n,r.value="",r});if("string"==typeof e)return C(M(e));if(e instanceof RegExp)return C(_(e));throw new Error("not a string, regexp, or parser: "+e)}function B(e){return l(e),r(function(t,n){var r=e._(t,n),u=t.slice(n,r.index);return r.status?a(n,'not "'+u+'"'):o(n,null)})}function N(e){return m(e),r(function(t,n){var r=t.charAt(n);return n<t.length&&e(r)?o(n+1,r):a(n,"a character matching "+e)})}function q(e){return N(function(t){return e.indexOf(t)>=0})}function D(e){return N(function(t){return e.indexOf(t)<0})}function R(e){return r(e(o,a))}function F(e,t){return N(function(n){return e<=n&&n<=t}).desc(e+"-"+t)}function L(e){return m(e),r(function(t,n){for(var r=n;r<t.length&&e(t.charAt(r));)r++;return o(r,t.slice(n,r))})}function $(e,t){arguments.length<2&&(t=e,e=void 0);var n=r(function(e,r){return n._=t()._,n._(e,r)});return e?n.desc(e):n}function z(){return S("fantasy-land/empty")}var H=r.prototype;H.parse=function(e){if("string"!=typeof e)throw new Error(".parse must be called with a string as its argument");var t=this.skip(Z)._(e,0);return t.status?{status:!0,value:t.value}:{status:!1,index:s(e,t.furthest),expected:t.expected}},H.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=x(e,t),r=new Error(n);throw r.type="ParsimmonError",r.result=t,r},H.or=function(e){return j(this,e)},H.trim=function(e){return this.wrap(e,e)},H.wrap=function(e,t){return A(e,this,t,function(e,t){return t})},H.thru=function(e){return e(this)},H.then=function(e){return l(e),T(this,e).map(function(e){return e[1]})},H.many=function(){var e=this;return r(function(t,n){for(var r=[],u=void 0;;){if(u=c(e._(t,n),u),!u.status)return c(o(n,r),u);n=u.index,r.push(u.value)}})},H.tie=function(){return this.map(function(e){p(e);for(var t="",n=0;n<e.length;n++)v(e[n]),t+=e[n];return t})},H.times=function(e,t){var n=this;return arguments.length<2&&(t=e),h(e),h(t),r(function(r,u){for(var i=[],a=void 0,s=void 0,f=0;f<e;f+=1){if(a=n._(r,u),s=c(a,s),!a.status)return s;u=a.index,i.push(a.value)}for(;f<t&&(a=n._(r,u),s=c(a,s),a.status);f+=1)u=a.index,i.push(a.value);return c(o(u,i),s)})},H.result=function(e){return this.map(function(){return e})},H.atMost=function(e){return this.times(0,e)},H.atLeast=function(e){return A(this.times(e),this.many(),function(e,t){return e.concat(t)})},H.map=function(e){m(e);var t=this;return r(function(n,r){var u=t._(n,r);return u.status?c(o(u.index,e(u.value)),u):u})},H.skip=function(e){return T(this,e).map(function(e){return e[0]})},H.mark=function(){return A(U,this,U,function(e,t,n){return{start:e,value:t,end:n}})},H.node=function(e){return A(U,this,U,function(t,n,r){return{name:e,value:n,start:t,end:r}})},H.sepBy=function(e){return E(this,e)},H.sepBy1=function(e){return P(this,e)},H.lookahead=function(e){return this.skip(C(e))},H.notFollowedBy=function(e){return this.skip(B(e))},H.desc=function(e){var t=this;return r(function(n,r){var u=t._(n,r);return u.status||(u.expected=[e]),u})},H.fallback=function(e){return this.or(k(e))},H.ap=function(e){return A(e,this,function(e,t){return e(t)})},H.chain=function(e){var t=this;return r(function(n,r){var u=t._(n,r);return u.status?c(e(u.value)._(n,u.index),u):u})},H.concat=H.or,H.empty=z,H.of=k,H["fantasy-land/ap"]=H.ap,H["fantasy-land/chain"]=H.chain,H["fantasy-land/concat"]=H.concat,H["fantasy-land/empty"]=H.empty,H["fantasy-land/of"]=H.of,H["fantasy-land/map"]=H.map;var U=r(function(e,t){return o(t,s(e,t))}),W=r(function(e,t){return t>=e.length?a(t,"any character"):o(t+1,e.charAt(t))}),I=r(function(e,t){return o(e.length,e.slice(t))}),Z=r(function(e,t){return t<e.length?a(t,"EOF"):o(t,null)}),J=_(/[0-9]/).desc("a digit"),G=_(/[0-9]*/).desc("optional digits"),K=_(/[a-z]/i).desc("a letter"),Q=_(/[a-z]*/i).desc("optional letters"),V=_(/\s*/).desc("optional whitespace"),Y=_(/\s+/).desc("whitespace");r.all=I,r.alt=j,r.any=W,r.createLanguage=X,r.custom=R,r.digit=J,r.digits=G,r.empty=z,r.eof=Z,r.fail=S,r.formatError=x,r.index=U,r.isParser=u,r.lazy=$,r.letter=K,r.letters=Q,r.lookahead=C,r.makeFailure=a,r.makeSuccess=o,r.noneOf=D,r.notFollowedBy=B,r.of=k,r.oneOf=q,r.optWhitespace=V,r.Parser=r,r.range=F,r.regex=_,r.regexp=_,r.sepBy=E,r.sepBy1=P,r.seq=T,r.seqMap=A,r.seqObj=O,r.string=M,r.succeed=k,r.takeWhile=L,r.test=N,r.whitespace=Y,r["fantasy-land/empty"]=z,r["fantasy-land/of"]=k,e.exports=r}])})}])});
//# sourceMappingURL=latex-parser.min.js.map