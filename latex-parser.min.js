!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["latex-parser"]=e():t["latex-parser"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{writable:!0,enumerable:!0,configurable:!0};if(!(t instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0!==e){if(!(e instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===r)r={writable:!0,enumerable:!0,configurable:!0};else if(!(r instanceof Object))throw new TypeError('"attributes" isn\'t an Object instance');if(void 0===n)for(var u in e)void 0!==e[u]&&Object.defineProperty(t,u,Object.create(r,{value:{value:e[u]}}));else if(n instanceof Array)n.forEach(function(n){void 0!==e[n]&&Object.defineProperty(t,n,Object.create(r,{value:{value:e[n]}}))});else{if(!(n instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var i in n){var a=n[i];void 0!==e[a]&&Object.defineProperty(t,i,Object.create(r,{value:{value:e[a]}}))}}}}function u(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!(t instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0===e)return!0;if(!(e instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===r&&(r=!0),void 0===n){for(var u in e)if(t[u]!==e[u]&&(void 0!==e[u]||!r))return!1}else{if(n instanceof Array)return n.every(function(n){return t[n]===e[n]||void 0===e[n]&&r});if(!(n instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var i in n){var a=n[i];if(t[i]!==e[a]&&(void 0!==e[a]||!r))return!1}}return!0}function i(t){return"number"==typeof t}function a(t){return"string"==typeof t}function o(t,e){if(!t)throw new Error(e);return t}function c(t,e){if(!(t instanceof Object))throw new TypeError(e||"Expected Object");return t}function f(t,e){if("string"!=typeof t)throw new TypeError(e||"Expected string");return t}function s(t,e){if(!l(t))throw new TypeError(e||"Expected Array");return t}function l(t){return t.constructor===Array}function p(t,e){return[].concat.apply([],t.map(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.updateProperties=r,e.testProperties=u,e.isNumber=i,e.isString=a,e.mustNotBeUndefined=o,e.mustBeObject=c,e.mustBeString=f,e.mustBeArray=s,e.isArray=l,e.concatMap=p;e.mustBeNumber=function(t,e){if(!i(t))throw new TypeError(e||"Expected number");return t},e.mconcat=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduceRight(t)},e.snd=function(t){return t[1]}},function(t,e,n){"use strict";function r(t){return i(t)||a(t)}function u(t){return U.hasOwnProperty(t)}function i(t){return u(t.type)&&(0,I.isNumber)(t.value)}function a(t){return v(t.expression)}function o(t){if(void 0===t)return!1;switch(t){case"Parentheses":case"Square":case"Dollar":return!0;default:return!1}}function c(t,e){return void 0!==t&&(void 0===e?"string"==typeof t.name:e===t.name)}function f(t){return t.latex instanceof Array}function s(t){return void 0!==t&&"string"==typeof t.text}function l(t){return void 0!==t&&v(t.latex)}function p(t){return t.arguments instanceof Array}function m(t,e){return j(e)?t:j(t)?e:{head:t,tail:e}}function h(t){switch(t){case"#":return"\\#";case"$":return"\\$";case"%":return"\\%";case"^":return"\\^{}";case"&":return"\\&";case"{":return"\\{";case"}":return"\\}";case"~":return"\\~{}";case"\\":return"\\textbackslash{}";case"_":return"\\_{}";default:return t}}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return 0===n.length?"string"==typeof t.type:n.some(function(e){return t.type===e})}function v(t){return g(t)}function g(t){return j(t)||y(t)||x(t)||b(t)||T(t)||A(t)||O(t)||k(t)}function y(t){return void 0!==t&&void 0!=t.type&&s(t)&&d(t,G)}function x(t){return c(t)&&p(t)&&d(t,K,Q)}function w(t){return x(t)&&0===t.arguments.length}function b(t,e){return d(t,W)}function T(t){return l(t)&&d(t)&&o(t.type)}function A(t){return void 0!==t&&"boolean"==typeof t.noNewPage&&(void 0===t.measure||r(t.measure))}function O(t){return l(t)&&d(t,Z)}function E(t){return d(t,"FixArg")}function X(t){return d(t,"OptArg")}function k(t){return s(t)&&d(t,J)}function j(t){return void 0!==t&&0===Object.keys(t).length}function P(t){return{type:"FixArg",latex:t}}function _(t){return 1===t.length?{type:"OptArg",latex:t[0]}:{type:"MOptArg",latex:t}}function C(t){return{type:"SymArg",latex:t}}function M(t){return{type:"ParArg",latex:t}}function S(t){return{type:"MOptArg",latex:t}}function B(t){return{type:"MSymArg",latex:t}}function N(t){return{type:"MParArg",latex:t}}function F(t){return{name:t,arguments:[],type:Q}}function D(t){return{text:t,type:G}}function R(t,e){return{latex:e,type:t}}function q(t){return{latex:t,type:Z}}function L(t){return{text:t,type:J}}function $(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return{name:t,arguments:n,type:K}}function z(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),u=2;u<n;u++)r[u-2]=arguments[u];return{name:t,latex:e,arguments:r,type:W}}Object.defineProperty(e,"__esModule",{value:!0}),e.newTeXMathDol=e.getPreamble=e.getBody=e.matchEnvArg=e.matchEnv=e.lookForEnv=e.matchCommandArg=e.matchCommand=e.lookForCommand=e.protectString=e.fromStringLaTeX=e.mempty=e.typeTeXCommS=e.typeTeXComm=e.typeTeXRaw=e.typeTeXComment=e.typeTeXBraces=e.typeTeXEnv=e.typeTeXSeq=e.mathTypes=e.measureTypes=void 0;var H=function(){function t(t,e){var n=[],r=!0,u=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){u=!0,i=t}finally{try{!r&&o.return&&o.return()}finally{if(u)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.isMeasure=r,e.isMeasureType=u,e.isBuiltInMeasure=i,e.isCustomMeasure=a,e.isMathType=o,e.isNameHaving=c,e.isMultipleLaTeXHaving=f,e.isTextHaving=s,e.isLaTeXHaving=l,e.isArgumentHaving=p,e.mappend=m,e.protectChar=h,e.isTypeHaving=d,e.isLaTeXBlock=v,e.isLaTeXBlockNoSeq=g,e.isTeXRaw=y,e.isTeXComm=x,e.isTeXCommS=w,e.isTeXEnv=b,e.isTeXMath=T,e.isTeXLineBreak=A,e.isTeXBraces=O,e.isFixArg=E,e.isOptArg=X,e.isTeXComment=k,e.isTeXEmpty=j,e.newFixArg=P,e.newOptArg=_,e.newSymArg=C,e.newParArg=M,e.newMOptArg=S,e.newMSymArg=B,e.newMParArg=N,e.newCommandS=F,e.newTeXRaw=D,e.newTeXMath=R,e.newTeXBraces=q,e.newTeXComment=L,e.newTeXComm=$,e.newTeXEnv=z;var I=n(0),U=e.measureTypes={pt:!0,mm:!0,cm:!0,in:!0,ex:!0,em:!0},W=(e.mathTypes={Parentheses:"Parentheses",Square:"Square",Dollar:"Dollar"},e.typeTeXSeq="TeXSeq",e.typeTeXEnv="TeXEnv"),Z=e.typeTeXBraces="TeXBraces",J=e.typeTeXComment="TeXComment",G=e.typeTeXRaw="TeXRaw",K=e.typeTeXComm="TeXComm",Q=e.typeTeXCommS="TeXCommS",V=e.mempty={},Y=(e.fromStringLaTeX=function(t){return D(Y(t))},e.protectString=function(t){for(var e=[],n=0;n<t.length;n++)e.push(h(t.charAt(n)));return e.join()}),tt=(e.lookForCommand=function(t,e){return tt(function(e){return e===t},e).map(I.snd)},e.matchCommand=function t(e,n){if(w(n))return e(n.name)?[[n.name,[]]]:[];if(x(n)){var r=(0,I.concatMap)(n.arguments,function(t){return et(e,t)});if(e(n.name)){return[[n.name,n.arguments]].concat(r)}return r}return T(n)||O(n)?t(e,n.latex):[]}),et=e.matchCommandArg=function(t,e){if(f(e)){return[].concat.apply([],(0,I.mustBeArray)(e.latex).map(function(e){return tt(t,e)}))}return tt(t,e.latex)},nt=function(t){var e=H(t,3);e[0];return[e[1],e[2]]},rt=e.lookForEnv=function(t,e){return ut(function(e){return e===t},e).map(nt)},ut=e.matchEnv=function t(e,n){if(x(n)){return(0,I.concatMap)(n.arguments,function(t){return it(e,t)})}if(b(n)){var r=(0,I.concatMap)(n.arguments,function(t){return it(e,t)}).concat(t(e,n.latex));if(e(n.name)){return[[n.name,n.arguments,n.latex]].concat(r)}return r}return T(n)||O(n)?t(e,n.latex):[]},it=e.matchEnvArg=function(t,e){return f(e)?(0,I.concatMap)(e.latex,function(e){return ut(t,e)}):ut(t,e.latex)};e.getBody=function(t){var e=rt("document",t);return e.length>0?e[0]:void 0},e.getPreamble=function(t){return b(t,"document")?V:t},e.newTeXMathDol=R.bind(void 0,"Dollar")},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function u(t,e){var n=t.length,r=e.length;if(0===n)return e;if(0===r)return t;for(var u={},i=0;i<n;i++)u[t[i]]=!0;for(var a=0;a<r;a++)u[e[a]]=!0;var o=[];for(var c in u)u.hasOwnProperty(c)&&o.push(c);return o.sort(),o}function i(t,e){if(!e)return t;if(t.furthest>e.furthest)return t;var n=t.furthest===e.furthest?u(t.expected,e.expected):e.expected;return{status:t.status,index:t.index,value:t.value,furthest:e.furthest,expected:n}}function a(t,e,n,r){return(0,v.Parser)(function(u,a){for(var o=r,c=0,f=void 0;a<u.length;){var s=e._(u,a);if(s.status){a=(0,y.mustBeNumber)(s.index);break}var l=t._(u,a);if(h(l))return l;if(f=(0,y.mustNotBeUndefined)(i(l,f)),h(f))return f;c++;var p=(0,y.mustNotBeUndefined)(f.value);o=n(o,p),a=(0,y.mustBeNumber)(f.index)}return d(i((0,v.makeSuccess)(a,o),f))})}function o(t,e){return a(t,e,function(t,e){return t.concat([e])},[])}function c(t){return(0,v.Parser)(function(e,n){var r=e.charAt(n);if(n>=e.length||t(r))return(0,v.makeFailure)(n,"text character");var u=[r];n++;for(var i=e.charAt(n);!t(i)&&n<e.length;)u.push(i),n++,i=e.charAt(n);return(0,v.makeSuccess)(n,u.join(""))})}function f(t,e){return(void 0===e?P:e).hasOwnProperty(t)}function s(t,e){return(void 0===e?_:e).hasOwnProperty(t)}function l(t){return t>="A"&&t<="Z"}function p(t){return t>="a"&&t<="z"}function m(t){return void 0!==t&&!0===t.status}function h(t){return void 0!==t&&!1===t.status}function d(t){if(!m(t))throw new Error("Expected parse to be success: "+JSON.stringify(t));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.dolMath=e.command=e.cmdArgs=e.cmdArg=e.optArg=e.fixArg=e.endCmd=e.specialChar=e.environment=e.env=e.latexParser=e.latexBlockParser=e.commandSymbol=e.mathSymbol=e.notTextDefaultAndNotClosingBracket=e.notTextDefault=e.specialCharsDefault=e.comment=e.text2=e.text=e.takeTill=e.defaultParserConf=void 0,e.isSpecialCharacter=f,e.isNotText=s,e.isOk=m,e.isNotOk=h,e.mustBeOk=d;var v=n(4),g=n(1),y=n(0),x=(e.defaultParserConf={verbatimEnvironments:["verbatim"]},e.takeTill=function(t){return(0,v.takeWhile)(function(e){return!t(e)})}),w=(0,v.regexp)(/[^\n]*/),b=(0,v.regexp)(/\n?/),T=((0,v.regexp)(/\s*/m),(0,v.string)("%")),A=(0,v.string)("["),O=(0,v.string)("]"),E=e.text=c(s).map(function(t){return(0,g.newTeXRaw)(t)}),X=e.text2=O.then(c(s).map(function(t){return(0,g.newTeXRaw)(t)})),k=(0,v.regexp)(/ */).map(g.newTeXRaw),j=e.comment=T.then(w).skip(b).map(g.newTeXComment),P=e.specialCharsDefault={"'":!0,"(":!0,")":!0,",":!0,".":!0,"-":!0,'"':!0,"!":!0,"^":!0,$:!0,"&":!0,"#":!0,"{":!0,"}":!0,"%":!0,"~":!0,"|":!0,"/":!0,":":!0,";":!0,"=":!0,"[":!0,"]":!0,"\\":!0,"`":!0," ":!0},_=e.notTextDefault={$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},C=(e.notTextDefaultAndNotClosingBracket={$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},e.mathSymbol=(0,v.string)("$"),e.commandSymbol=(0,v.string)("\\")),M=e.latexBlockParser=(0,v.lazy)(function(){return(0,v.alt)((0,v.alt)(E,U,j,X,N,I))}),S=(e.latexParser=M.many(),(0,v.string)("{").then(M.many()).skip((0,v.string)("}"))),B=e.env=(0,v.Parser)(function(t,e){var n=(0,v.string)("\\begin").then((0,v.string)("{")).then(k).then((0,v.regexp)(/[a-zA-Z]+/)).skip(k).skip((0,v.string)("}"))._(t,e);if(h(n))return n;e=(0,y.mustBeNumber)(n.index);var r=n.value;return o(M,(0,v.string)("\\end").then((0,v.string)("{")).then(k).then((0,v.string)(r)).then(k).then((0,v.string)("}"))).map(function(t){return(0,g.newTeXEnv)(r,t)})._(t,e)}),N=e.environment=(0,v.alt)(S,B),F=e.specialChar=(0,v.test)(f),D=e.endCmd=function(t){return!p(t)&&!l(t)},R=(0,v.string)("{"),q=(0,v.string)("}"),L=e.fixArg=R.then(o(M,q)).map(g.newFixArg),$=e.optArg=A.then(o(M,O)).map(g.newOptArg),z=e.cmdArg=(0,v.alt)(L,$),H=e.cmdArgs=(0,v.alt)((0,v.string)("{}").map(function(){return[]}),z.map(function(t){return t}).atLeast(0)).map(function(t){return t}),I=e.command=(0,v.alt)(C.then(v.eof).map(function(){return{}}),(0,v.seqMap)(C,(0,v.alt)(F,x(D)),H,function(t,e,n){return void 0!==n?g.newTeXComm.apply(void 0,[e].concat(r(n))):(0,g.newTeXComm)(e)})).map(function(t){return t}),U=e.dolMath=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$";return(0,v.string)(e).then(M.many()).skip((0,v.string)(n)).map(function(e){return(0,g.newTeXMath)(t,e)})}("Dollar")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var u=n(1);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var i=n(2);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})})},function(t,e,n){var r,u,i;!function(n,a){u=[],r=a,void 0!==(i="function"==typeof r?r.apply(e,u):r)&&(t.exports=i)}(0,function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this._=e}function e(e){return e instanceof t}function n(t,e){return{status:!0,index:t,value:e,furthest:-1,expected:[]}}function r(t,e){return{status:!1,index:-1,value:null,furthest:t,expected:[e]}}function u(t,e){if(!e)return t;if(t.furthest>e.furthest)return t;var n=t.furthest===e.furthest?i(t.expected,e.expected):e.expected;return{status:t.status,index:t.index,value:t.value,furthest:e.furthest,expected:n}}function i(t,e){var n=t.length,r=e.length;if(0===n)return e;if(0===r)return t;for(var u={},i=0;i<n;i++)u[t[i]]=!0;for(var a=0;a<r;a++)u[e[a]]=!0;var o=[];for(var c in u)u.hasOwnProperty(c)&&o.push(c);return o.sort(),o}function a(t){if(!e(t))throw new Error("not a parser: "+t)}function o(t){if("number"!=typeof t)throw new Error("not a number: "+t)}function c(t){if(!(t instanceof RegExp))throw new Error("not a regexp: "+t);for(var e=T(t),n=0;n<e.length;n++){var r=e.charAt(n);if("i"!=r&&"m"!=r&&"u"!=r)throw new Error('unsupported regexp flag "'+r+'": '+t)}}function f(t){if("function"!=typeof t)throw new Error("not a function: "+t)}function s(t){if("string"!=typeof t)throw new Error("not a string: "+t)}function l(t){return 1===t.length?t[0]:"one of "+t.join(", ")}function p(t,e){var n=e.index,r=n.offset;if(r===t.length)return", got the end of the input";var u=r>0?"'...":"'",i=t.length-r>12?"...'":"'";return" at line "+n.line+" column "+n.column+", got "+u+t.slice(r,r+12)+i}function m(t,e){return"expected "+l(e.expected)+p(t,e)}function h(){for(var e=[].slice.call(arguments),r=e.length,i=0;i<r;i+=1)a(e[i]);return t(function(t,i){for(var a,o=new Array(r),c=0;c<r;c+=1){if(a=u(e[c]._(t,i),a),!a.status)return a;o[c]=a.value,i=a.index}return u(n(i,o),a)})}function d(){var t=[].slice.call(arguments);if(0===t.length)throw new Error("seqMap needs at least one argument");var e=t.pop();return f(e),h.apply(null,t).map(function(t){return e.apply(null,t)})}function v(t){var e={};for(var n in t)({}).hasOwnProperty.call(t,n)&&function(n){var r=function(){return t[n](e)};e[n]=S(r)}(n);return e}function g(e){return t(e(n,r))}function y(){var e=[].slice.call(arguments),n=e.length;if(0===n)return X("zero alternates");for(var r=0;r<n;r+=1)a(e[r]);return t(function(t,n){for(var r,i=0;i<e.length;i+=1)if(r=u(e[i]._(t,n),r),r.status)return r;return r})}function x(t,e){return w(t,e).or(E([]))}function w(t,e){a(t),a(e);var n=e.then(t).many();return t.chain(function(t){return n.map(function(e){return[t].concat(e)})})}function b(e){s(e);var u="'"+e+"'";return t(function(t,i){var a=i+e.length,o=t.slice(i,a);return o===e?n(a,o):r(i,u)})}function T(t){var e=""+t;return e.slice(e.lastIndexOf("/")+1)}function A(t){return RegExp("^(?:"+t.source+")",T(t))}function O(e,u){c(e),arguments.length>=2?o(u):u=0;var i=A(e),a=""+e;return t(function(t,e){var o=i.exec(t.slice(e));if(o){var c=o[0],f=o[u];if(null!=f)return n(e+c.length,f)}return r(e,a)})}function E(e){return t(function(t,r){return n(r,e)})}function X(e){return t(function(t,n){return r(n,e)})}function k(n){if(e(n))return t(function(t,e){var r=n._(t,e);return r.index=e,r.value="",r});if("string"==typeof n)return k(b(n));if(n instanceof RegExp)return k(O(n));throw new Error("not a string, regexp, or parser: "+n)}function j(e){return a(e),t(function(t,u){var i=e._(t,u),a=t.slice(u,i.index);return i.status?r(u,'not "'+a+'"'):n(u,null)})}function P(e){return f(e),t(function(t,u){var i=t.charAt(u);return u<t.length&&e(i)?n(u+1,i):r(u,"a character matching "+e)})}function _(t){return P(function(e){return t.indexOf(e)>=0})}function C(t){return P(function(e){return t.indexOf(e)<0})}function M(e){return f(e),t(function(t,r){for(var u=r;u<t.length&&e(t.charAt(u));)u++;return n(u,t.slice(r,u))})}function S(e,n){arguments.length<2&&(n=e,e=void 0);var r=t(function(t,e){return r._=n()._,r._(t,e)});return e?r.desc(e):r}function B(t,e){var n=t.slice(0,e).split("\n");return{offset:e,line:n.length,column:n[n.length-1].length+1}}function N(){return X("fantasy-land/empty")}var F=t.prototype;F.parse=function(t){if("string"!=typeof t)throw new Error(".parse must be called with a string as its argument");var e=this.skip(q)._(t,0);return e.status?{status:!0,value:e.value}:{status:!1,index:B(t,e.furthest),expected:e.expected}},F.tryParse=function(t){var e=this.parse(t);if(e.status)return e.value;var n=m(t,e),r=new Error(n);throw r.type="ParsimmonError",r.result=e,r},F.or=function(t){return y(this,t)},F.thru=function(t){return t(this)},F.then=function(t){if("function"==typeof t)throw new Error("chaining features of .then are no longer supported, use .chain instead");return a(t),h(this,t).map(function(t){return t[1]})},F.many=function(){var e=this;return t(function(t,r){for(var i=[],a=void 0;;){if(a=u(e._(t,r),a),!a.status)return u(n(r,i),a);r=a.index,i.push(a.value)}})},F.times=function(e,r){var i=this;return arguments.length<2&&(r=e),o(e),o(r),t(function(t,a){for(var o=[],c=void 0,f=void 0,s=0;s<e;s+=1){if(c=i._(t,a),f=u(c,f),!c.status)return f;a=c.index,o.push(c.value)}for(;s<r&&(c=i._(t,a),f=u(c,f),c.status);s+=1)a=c.index,o.push(c.value);return u(n(a,o),f)})},F.result=function(t){return this.map(function(){return t})},F.atMost=function(t){return this.times(0,t)},F.atLeast=function(t){return d(this.times(t),this.many(),function(t,e){return t.concat(e)})},F.map=function(e){f(e);var r=this;return t(function(t,i){var a=r._(t,i);return a.status?u(n(a.index,e(a.value)),a):a})},F["fantasy-land/map"]=F.map,F.skip=function(t){return h(this,t).map(function(t){return t[0]})},F.mark=function(){return d(L,this,L,function(t,e,n){return{start:t,value:e,end:n}})},F.node=function(t){return d(L,this,L,function(e,n,r){return{name:t,value:n,start:e,end:r}})},F.lookahead=function(t){return this.skip(k(t))},F.notFollowedBy=function(t){return this.skip(j(t))},F.desc=function(e){var n=this;return t(function(t,r){var u=n._(t,r);return u.status||(u.expected=[e]),u})},F.fallback=function(t){return this.or(E(t))};var D=t(function(t,e){return e>=t.length?r(e,"any character"):n(e+1,t.charAt(e))}),R=t(function(t,e){return n(t.length,t.slice(e))}),q=t(function(t,e){return e<t.length?r(e,"EOF"):n(e,null)}),L=t(function(t,e){return n(e,B(t,e))});F.concat=F.or,F["fantasy-land/concat"]=F.concat,F.empty=N,F["fantasy-land/empty"]=F.empty,F.of=E,F["fantasy-land/of"]=F.of,F.ap=function(t){return d(t,this,function(t,e){return t(e)})},F["fantasy-land/ap"]=F.ap,F.chain=function(e){var n=this;return t(function(t,r){var i=n._(t,r);return i.status?u(e(i.value)._(t,i.index),i):i})},F["fantasy-land/chain"]=F.chain;var $=O(/[0-9]/).desc("a digit"),z=O(/[0-9]*/).desc("optional digits"),H=O(/[a-z]/i).desc("a letter"),I=O(/[a-z]*/i).desc("optional letters"),U=O(/\s*/).desc("optional whitespace"),W=O(/\s+/).desc("whitespace");return t.createLanguage=v,t.all=R,t.alt=y,t.any=D,t.custom=g,t.digit=$,t.digits=z,t.eof=q,t.fail=X,t.formatError=m,t.index=L,t.isParser=e,t.lazy=S,t.letter=H,t.letters=I,t.lookahead=k,t.notFollowedBy=j,t.makeFailure=r,t.makeSuccess=n,t.noneOf=C,t.oneOf=_,t.optWhitespace=U,t.Parser=t,t.regex=O,t.regexp=O,t.sepBy=x,t.sepBy1=w,t.seq=h,t.seqMap=d,t.string=b,t.succeed=E,t.takeWhile=M,t.test=P,t.whitespace=W,t.empty=N,t["fantasy-land/empty"]=N,t.of=E,t["fantasy-land/of"]=E,t})}])});
//# sourceMappingURL=latex-parser.min.js.map